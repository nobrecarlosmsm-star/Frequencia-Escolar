<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FrequÃªncia Escolar Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .animate-spin { animation: spin 1s linear infinite; }
        @media print { .no-print { display: none !important; } }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        const DEFAULT_USERS = { admin: { password: 'admin123', role: 'admin', name: 'Administrador' } };
        const STUDENT_STATUS = { ATIVO: 'ativo', TRANSFERIDO: 'transferido', FALECIDO: 'falecido' };
        const ATTENDANCE_STATUS = { PRESENTE: 'presente', FALTA: 'falta', JUSTIFICADA: 'justificada' };
        const API_URL = 'https://api.jsonbin.io/v3';
        
        class CloudSync {
            static getKey() { return localStorage.getItem('jsonbin_api_key') || ''; }
            
            static async save(data) {
                const key = this.getKey();
                if (!key) return { success: false };
                try {
                    const binId = localStorage.getItem('syncBinId');
                    const url = binId ? `${API_URL}/b/${binId}` : `${API_URL}/b`;
                    const res = await fetch(url, {
                        method: binId ? 'PUT' : 'POST',
                        headers: { 'Content-Type': 'application/json', 'X-Master-Key': key },
                        body: JSON.stringify({ ...data, lastSync: new Date().toISOString() })
                    });
                    if (!res.ok) throw new Error();
                    const result = await res.json();
                    if (result.metadata?.id) localStorage.setItem('syncBinId', result.metadata.id);
                    return { success: true };
                } catch { return { success: false }; }
            }
            
            static async load() {
                const key = this.getKey();
                const binId = localStorage.getItem('syncBinId');
                if (!key || !binId) return null;
                try {
                    const res = await fetch(`${API_URL}/b/${binId}/latest`, {
                        headers: { 'X-Master-Key': key }
                    });
                    if (!res.ok) return null;
                    const result = await res.json();
                    return result.record;
                } catch { return null; }
            }
        }
        
        function App() {
            const [user, setUser] = useState(null);
            const [users, setUsers] = useState(DEFAULT_USERS);
            const [classes, setClasses] = useState([]);
            const [selectedClass, setSelectedClass] = useState(null);
            const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);
            const [activeTab, setActiveTab] = useState('registro');
            const [showConfig, setShowConfig] = useState(false);
            const [showUsers, setShowUsers] = useState(false);
            const [showClasses, setShowClasses] = useState(false);
            const [showStudents, setShowStudents] = useState(false);
            const [syncing, setSyncing] = useState(false);
            const [lastSync, setLastSync] = useState(null);
            
            useEffect(() => { loadData(); }, []);
            useEffect(() => {
                if (!user) return;
                const interval = setInterval(() => autoSync(), 15000);
                return () => clearInterval(interval);
            }, [user, classes, users]);
            
            const loadData = async () => {
                const cloud = await CloudSync.load();
                if (cloud) {
                    setClasses(cloud.classes || []);
                    setUsers(cloud.users || DEFAULT_USERS);
                    setLastSync(cloud.lastSync);
                }
            };
            
            const autoSync = async () => {
                if (!CloudSync.getKey()) return;
                await CloudSync.save({ classes, users });
                setLastSync(new Date().toISOString());
            };
            
            const handleLogin = (e) => {
                e.preventDefault();
                const fd = new FormData(e.target);
                const login = fd.get('login');
                const pass = fd.get('password');
                const u = users[login];
                if (u && u.password === pass) setUser({ login, ...u });
                else alert('âŒ Login ou senha incorretos!');
            };
            
            const handleLogout = () => setUser(null);
            
            const addClass = (name) => {
                const id = Date.now();
                setClasses(prev => [...prev, { id, name, students: [] }]);
            };
            
            const addStudent = (classId, studentData) => {
                setClasses(prev => prev.map(c => 
                    c.id === classId 
                        ? { ...c, students: [...c.students, { ...studentData, id: Date.now(), observations: {} }] }
                        : c
                ));
            };
            
            const updateStudent = (classId, studentId, updates) => {
                setClasses(prev => prev.map(c =>
                    c.id === classId
                        ? { ...c, students: c.students.map(s => s.id === studentId ? { ...s, ...updates } : s) }
                        : c
                ));
            };
            
            const deleteClass = (id) => {
                if (confirm('âš ï¸ Excluir turma?')) setClasses(prev => prev.filter(c => c.id !== id));
            };
            
            const deleteStudent = (classId, studentId) => {
                if (confirm('âš ï¸ Excluir aluno?')) {
                    setClasses(prev => prev.map(c =>
                        c.id === classId ? { ...c, students: c.students.filter(s => s.id !== studentId) } : c
                    ));
                }
            };
            
            const addUser = (login, name, password, role) => {
                if (users[login]) return alert('âŒ Login jÃ¡ existe!');
                setUsers(prev => ({ ...prev, [login]: { name, password, role } }));
                alert('âœ… UsuÃ¡rio criado!');
            };
            
            const deleteUser = (login) => {
                if (login === 'admin') return alert('âŒ Admin nÃ£o pode ser excluÃ­do!');
                if (confirm('âš ï¸ Excluir usuÃ¡rio?')) {
                    const { [login]: _, ...rest } = users;
                    setUsers(rest);
                }
            };
            
            if (!user) {
                return (
                    <div className="min-h-screen gradient-bg flex items-center justify-center p-4">
                        <div className="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md">
                            <div className="text-center mb-8">
                                <h1 className="text-4xl font-bold text-indigo-600 mb-2">ğŸ“š FrequÃªncia Pro</h1>
                                <p className="text-gray-600">Sistema de Controle Escolar</p>
                            </div>
                            <form onSubmit={handleLogin} className="space-y-4">
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">ğŸ‘¤ Login</label>
                                    <input name="login" className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 outline-none" required />
                                </div>
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">ğŸ”’ Senha</label>
                                    <input name="password" type="password" className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 outline-none" required />
                                </div>
                                <button type="submit" className="w-full bg-indigo-600 text-white py-3 rounded-lg font-bold hover:bg-indigo-700 transition">ENTRAR</button>
                            </form>
                        </div>
                    </div>
                );
            }
            
            const cls = classes.find(c => c.id === selectedClass);
            
            return (
                <div className="min-h-screen bg-gray-50">
                    <div className="gradient-bg text-white p-4 shadow-lg">
                        <div className="max-w-7xl mx-auto flex justify-between items-center">
                            <div>
                                <h1 className="text-2xl font-bold">ğŸ“š FrequÃªncia Pro</h1>
                                <p className="text-sm opacity-90">ğŸ‘¤ {user.name} ({user.role === 'admin' ? 'ğŸ‘‘ Admin' : user.role === 'editor' ? 'ğŸ“ Alimentador' : 'ğŸ‘ï¸ Observador'})</p>
                            </div>
                            <div className="flex items-center gap-3">
                                {syncing && <div className="w-6 h-6 border-2 border-white rounded-full border-t-transparent animate-spin"></div>}
                                {lastSync && <span className="text-sm">â˜ï¸ {new Date(lastSync).toLocaleTimeString()}</span>}
                                {user.role === 'admin' && (
                                    <>
                                        <button onClick={() => setShowConfig(true)} className="bg-white text-indigo-600 px-4 py-2 rounded-lg font-semibold hover:bg-indigo-50">âš™ï¸</button>
                                        <button onClick={() => setShowUsers(true)} className="bg-white text-indigo-600 px-4 py-2 rounded-lg font-semibold hover:bg-indigo-50">ğŸ‘¥</button>
                                    </>
                                )}
                                <button onClick={handleLogout} className="bg-red-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-600">ğŸšª</button>
                            </div>
                        </div>
                    </div>
                    
                    <div className="max-w-7xl mx-auto p-4">
                        <div className="grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4">
                            <div className="lg:col-span-1 bg-white rounded-lg shadow p-4">
                                <div className="flex justify-between items-center mb-4">
                                    <h2 className="text-xl font-bold">ğŸ« Turmas</h2>
                                    {user.role === 'admin' && (
                                        <button onClick={() => setShowClasses(true)} className="bg-indigo-600 text-white px-3 py-1 rounded text-sm">â•</button>
                                    )}
                                </div>
                                <div className="space-y-2">
                                    {classes.map(c => (
                                        <div key={c.id} className="flex items-center gap-2">
                                            <button onClick={() => setSelectedClass(c.id)} 
                                                className={`flex-1 text-left px-3 py-2 rounded-lg font-semibold ${c.id === selectedClass ? 'bg-indigo-600 text-white' : 'bg-gray-100 hover:bg-gray-200'}`}>
                                                {c.name}
                                            </button>
                                            {user.role === 'admin' && (
                                                <button onClick={() => deleteClass(c.id)} className="text-red-600 px-2 py-1 hover:bg-red-50 rounded">ğŸ—‘ï¸</button>
                                            )}
                                        </div>
                                    ))}
                                </div>
                            </div>
                            
                            <div className="lg:col-span-3 bg-white rounded-lg shadow p-4">
                                {!cls ? (
                                    <p className="text-gray-500 text-center py-8">Selecione uma turma</p>
                                ) : (
                                    <>
                                        <div className="flex gap-2 mb-4 border-b">
                                            <button onClick={() => setActiveTab('registro')} className={`px-4 py-2 font-semibold ${activeTab === 'registro' ? 'border-b-2 border-indigo-600 text-indigo-600' : 'text-gray-600'}`}>
                                                âœï¸ Registro
                                            </button>
                                            <button onClick={() => setActiveTab('relatorio')} className={`px-4 py-2 font-semibold ${activeTab === 'relatorio' ? 'border-b-2 border-indigo-600 text-indigo-600' : 'text-gray-600'}`}>
                                                ğŸ“Š RelatÃ³rios
                                            </button>
                                            {user.role === 'admin' && (
                                                <button onClick={() => setActiveTab('alunos')} className={`px-4 py-2 font-semibold ${activeTab === 'alunos' ? 'border-b-2 border-indigo-600 text-indigo-600' : 'text-gray-600'}`}>
                                                    ğŸ‘¨â€ğŸ“ Alunos
                                                </button>
                                            )}
                                        </div>
                                        
                                        {activeTab === 'registro' && (
                                            <div>
                                                <input type="date" value={selectedDate} onChange={(e) => setSelectedDate(e.target.value)} 
                                                    className="mb-4 px-4 py-2 border-2 rounded-lg" />
                                                <AttendancePanel class={cls} date={selectedDate} setClasses={setClasses} canEdit={user.role !== 'viewer'} />
                                            </div>
                                        )}
                                        {activeTab === 'relatorio' && <Reports class={cls} />}
                                        {activeTab === 'alunos' && user.role === 'admin' && (
                                            <StudentsManager class={cls} onAdd={(s) => addStudent(cls.id, s)} 
                                                onUpdate={(sid, u) => updateStudent(cls.id, sid, u)}
                                                onDelete={(sid) => deleteStudent(cls.id, sid)} />
                                        )}
                                    </>
                                )}
                            </div>
                        </div>
                    </div>
                    
                    {showConfig && <ConfigModal onClose={() => setShowConfig(false)} />}
                    {showUsers && <UsersModal users={users} onAdd={addUser} onDelete={deleteUser} onClose={() => setShowUsers(false)} />}
                    {showClasses && <ClassModal onAdd={addClass} onClose={() => setShowClasses(false)} />}
                </div>
            );
        }
        
        function AttendancePanel({ class: cls, date, setClasses, canEdit }) {
            const setStatus = (sid, status) => {
                if (!canEdit) return alert('âš ï¸ Sem permissÃ£o!');
                const s = cls.students.find(st => st.id === sid);
                if (s.status !== 'ativo') return alert('âš ï¸ Aluno nÃ£o ativo!');
                
                setClasses(prev => prev.map(c => {
                    if (c.id === cls.id) {
                        return {
                            ...c,
                            students: c.students.map(st => {
                                if (st.id === sid) {
                                    const obs = { ...st.observations };
                                    obs[date] = { status, observacao: obs[date]?.observacao || '' };
                                    return { ...st, observations: obs };
                                }
                                return st;
                            })
                        };
                    }
                    return c;
                }));
            };
            
            return (
                <div className="space-y-3">
                    <h2 className="text-2xl font-bold mb-4">âœï¸ {cls.name} - {new Date(date + 'T00:00:00').toLocaleDateString('pt-BR')}</h2>
                    {cls.students.map(s => {
                        const data = s.observations[date] || { status: null, observacao: '' };
                        const blocked = s.status !== 'ativo';
                        return (
                            <div key={s.id} className={`border-2 rounded-lg p-4 ${blocked ? 'opacity-50 bg-gray-100' : ''}`}>
                                <div className="flex items-center gap-3 flex-wrap">
                                    <div className="flex gap-2">
                                        <button 
                                            onClick={() => setStatus(s.id, ATTENDANCE_STATUS.PRESENTE)} 
                                            disabled={blocked || !canEdit}
                                            className={`px-6 py-3 rounded-lg font-bold text-white transition-all ${
                                                data.status === ATTENDANCE_STATUS.PRESENTE 
                                                    ? 'bg-green-600 ring-4 ring-green-300' 
                                                    : 'bg-green-400 hover:bg-green-500'
                                            } ${!canEdit || blocked ? 'opacity-50 cursor-not-allowed' : 'hover:scale-105'}`}>
                                            âœ… PRESENTE
                                        </button>
                                        <button 
                                            onClick={() => setStatus(s.id, ATTENDANCE_STATUS.JUSTIFICADA)} 
                                            disabled={blocked || !canEdit}
                                            className={`px-6 py-3 rounded-lg font-bold text-white transition-all ${
                                                data.status === ATTENDANCE_STATUS.JUSTIFICADA 
                                                    ? 'bg-yellow-600 ring-4 ring-yellow-300' 
                                                    : 'bg-yellow-400 hover:bg-yellow-500'
                                            } ${!canEdit || blocked ? 'opacity-50 cursor-not-allowed' : 'hover:scale-105'}`}>
                                            ğŸ“ FALTA JUSTIFICADA
                                        </button>
                                        <button 
                                            onClick={() => setStatus(s.id, ATTENDANCE_STATUS.FALTA)} 
                                            disabled={blocked || !canEdit}
                                            className={`px-6 py-3 rounded-lg font-bold text-white transition-all ${
                                                data.status === ATTENDANCE_STATUS.FALTA 
                                                    ? 'bg-red-600 ring-4 ring-red-300' 
                                                    : 'bg-red-400 hover:bg-red-500'
                                            } ${!canEdit || blocked ? 'opacity-50 cursor-not-allowed' : 'hover:scale-105'}`}>
                                            âŒ FALTA
                                        </button>
                                    </div>
                                    <p className="font-bold text-lg flex-1">{s.name}</p>
                                </div>
                            </div>
                        );
                    })}
                </div>
            );
        }
        
        function Reports({ class: cls }) {
            if (!cls) return <p>Selecione uma turma</p>;
            
            const stats = cls.students.map(s => {
                const obs = Object.entries(s.observations);
                const total = obs.length;
                const present = obs.filter(([_, d]) => d.status === ATTENDANCE_STATUS.PRESENTE).length;
                const justified = obs.filter(([_, d]) => d.status === ATTENDANCE_STATUS.JUSTIFICADA).length;
                const absent = obs.filter(([_, d]) => d.status === ATTENDANCE_STATUS.FALTA).length;
                const pct = total > 0 ? ((present / total) * 100).toFixed(1) : 0;
                return { name: s.name, status: s.status, total, present, justified, absent, pct: parseFloat(pct) };
            }).sort((a, b) => b.pct - a.pct);
            
            return (
                <div>
                    <div className="flex justify-between mb-4 no-print">
                        <h2 className="text-2xl font-bold">ğŸ“Š {cls.name}</h2>
                        <button onClick={() => window.print()} className="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700">ğŸ–¨ï¸ Imprimir</button>
                    </div>
                    <table className="w-full border-2 rounded-lg">
                        <thead className="bg-gray-100">
                            <tr>
                                <th className="px-4 py-3 text-left">Aluno</th>
                                <th className="px-4 py-3 text-center">Status</th>
                                <th className="px-4 py-3 text-center">Dias</th>
                                <th className="px-4 py-3 text-center bg-green-100">âœ… P</th>
                                <th className="px-4 py-3 text-center bg-yellow-100">ğŸ“ FJ</th>
                                <th className="px-4 py-3 text-center bg-red-100">âŒ F</th>
                                <th className="px-4 py-3">%</th>
                            </tr>
                        </thead>
                        <tbody>
                            {stats.map((st, i) => (
                                <tr key={i} className="border-t hover:bg-gray-50">
                                    <td className="px-4 py-3 font-medium">{st.name}</td>
                                    <td className="px-4 py-3 text-center">
                                        {st.status === 'ativo' ? 'âœ…' : st.status === 'transferido' ? 'ğŸ”„' : 'ğŸ•Šï¸'}
                                    </td>
                                    <td className="px-4 py-3 text-center font-semibold">{st.total}</td>
                                    <td className="px-4 py-3 text-center text-green-600 font-bold">{st.present}</td>
                                    <td className="px-4 py-3 text-center text-yellow-600 font-bold">{st.justified}</td>
                                    <td className="px-4 py-3 text-center text-red-600 font-bold">{st.absent}</td>
                                    <td className="px-4 py-3">
                                        <div className="flex items-center gap-2">
                                            <div className="flex-1 bg-gray-200 rounded-full h-6">
                                                <div className="h-full bg-green-600 rounded-full" style={{width: `${st.pct}%`}}></div>
                                            </div>
                                            <span className="font-bold text-sm w-12 text-right">{st.pct}%</span>
                                        </div>
                                    </td>
                                </tr>
                            ))}
                        </tbody>
                    </table>
                </div>
            );
        }
        
        function StudentsManager({ class: cls, onAdd, onUpdate, onDelete }) {
            const [name, setName] = useState('');
            
            const handleAdd = () => {
                if (!name.trim()) return alert('âŒ Digite o nome!');
                onAdd({ name, status: STUDENT_STATUS.ATIVO });
                setName('');
            };
            
            return (
                <div>
                    <div className="mb-6 flex gap-2">
                        <input value={name} onChange={(e) => setName(e.target.value)} 
                            placeholder="Nome do aluno" className="flex-1 px-4 py-2 border-2 rounded-lg" />
                        <button onClick={handleAdd} className="bg-indigo-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-indigo-700">
                            â• Adicionar
                        </button>
                    </div>
                    <div className="space-y-2">
                        {cls.students.map(s => (
                            <div key={s.id} className="flex items-center gap-3 p-3 border rounded-lg">
                                <span className="flex-1 font-semibold">{s.name}</span>
                                <select value={s.status} onChange={(e) => onUpdate(s.id, { status: e.target.value })}
                                    className="px-3 py-1 border rounded">
                                    <option value={STUDENT_STATUS.ATIVO}>âœ… Ativo</option>
                                    <option value={STUDENT_STATUS.TRANSFERIDO}>ğŸ”„ Transferido</option>
                                    <option value={STUDENT_STATUS.FALECIDO}>ğŸ•Šï¸ Falecido</option>
                                </select>
                                <button onClick={() => onDelete(s.id)} className="text-red-600 px-3 py-1 hover:bg-red-50 rounded">
                                    ğŸ—‘ï¸
                                </button>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }
        
        function ConfigModal({ onClose }) {
            const [key, setKey] = useState(CloudSync.getKey());
            
            const handleSave = () => {
                localStorage.setItem('jsonbin_api_key', key);
                alert('âœ… API Key salva!');
                onClose();
            };
            
            return (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                    <div className="bg-white rounded-lg p-6 w-full max-w-2xl">
                        <h2 className="text-2xl font-bold mb-4">âš™ï¸ ConfiguraÃ§Ã£o</h2>
                        <div className="mb-4">
                            <label className="block font-semibold mb-2">ğŸ”‘ JSONBin API Key:</label>
                            <input value={key} onChange={(e) => setKey(e.target.value)}
                                className="w-full px-4 py-2 border-2 rounded-lg" placeholder="Cole sua API Key aqui" />
                            <p className="text-sm text-gray-600 mt-2">
                                ğŸ”— Obtenha em: <a href="https://jsonbin.io" target="_blank" className="text-indigo-600 underline">jsonbin.io</a>
                            </p>
                        </div>
                        <div className="flex gap-3">
                            <button onClick={handleSave} className="flex-1 bg-indigo-600 text-white py-2 rounded-lg font-bold hover:bg-indigo-700">
                                ğŸ’¾ Salvar
                            </button>
                            <button onClick={onClose} className="px-6 bg-gray-200 py-2 rounded-lg font-bold hover:bg-gray-300">
                                âŒ
                            </button>
                        </div>
                    </div>
                </div>
            );
        }
        
        function UsersModal({ users, onAdd, onDelete, onClose }) {
            const [login, setLogin] = useState('');
            const [name, setName] = useState('');
            const [password, setPassword] = useState('');
            const [role, setRole] = useState('editor');
            
            const handleAdd = () => {
                if (!login.trim() || !name.trim() || !password.trim()) return alert('âŒ Preencha todos os campos!');
                onAdd(login, name, password, role);
                setLogin('');
                setName('');
                setPassword('');
            };
            
            return (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                    <div className="bg-white rounded-lg p-6 w-full max-w-3xl max-h-[90vh] overflow-auto">
                        <h2 className="text-2xl font-bold mb-4">ğŸ‘¥ Gerenciar UsuÃ¡rios</h2>
                        
                        <div className="bg-indigo-50 p-4 rounded-lg mb-4">
                            <h3 className="font-bold mb-3">â• Criar Novo UsuÃ¡rio</h3>
                            <div className="grid grid-cols-2 gap-3">
                                <input value={login} onChange={(e) => setLogin(e.target.value)}
                                    placeholder="Login" className="px-4 py-2 border-2 rounded-lg" />
                                <input value={name} onChange={(e) => setName(e.target.value)}
                                    placeholder="Nome completo" className="px-4 py-2 border-2 rounded-lg" />
                                <input value={password} onChange={(e) => setPassword(e.target.value)}
                                    type="password" placeholder="Senha" className="px-4 py-2 border-2 rounded-lg" />
                                <select value={role} onChange={(e) => setRole(e.target.value)}
                                    className="px-4 py-2 border-2 rounded-lg">
                                    <option value="admin">ğŸ‘‘ Administrador</option>
                                    <option value="editor">ğŸ“ Alimentador</option>
                                    <option value="viewer">ğŸ‘ï¸ Observador</option>
                                </select>
                            </div>
                            <button onClick={handleAdd} className="w-full mt-3 bg-indigo-600 text-white py-2 rounded-lg font-bold hover:bg-indigo-700">
                                âœ… Criar UsuÃ¡rio
                            </button>
                        </div>
                        
                        <div className="space-y-2">
                            <h3 className="font-bold mb-2">ğŸ“‹ UsuÃ¡rios Cadastrados</h3>
                            {Object.entries(users).map(([login, u]) => (
                                <div key={login} className="flex items-center gap-3 p-3 border rounded-lg">
                                    <div className="flex-1">
                                        <p className="font-bold">{u.name}</p>
                                        <p className="text-sm text-gray-600">
                                            ğŸ”‘ {login} | {u.role === 'admin' ? 'ğŸ‘‘ Admin' : u.role === 'editor' ? 'ğŸ“ Alimentador' : 'ğŸ‘ï¸ Observador'}
                                        </p>
                                    </div>
                                    {login !== 'admin' && (
                                        <button onClick={() => onDelete(login)} 
                                            className="text-red-600 px-3 py-1 hover:bg-red-50 rounded">
                                            ğŸ—‘ï¸
                                        </button>
                                    )}
                                </div>
                            ))}
                        </div>
                        
                        <button onClick={onClose} className="w-full mt-4 bg-gray-200 py-2 rounded-lg font-bold hover:bg-gray-300">
                            âŒ Fechar
                        </button>
                    </div>
                </div>
            );
        }
        
        function ClassModal({ onAdd, onClose }) {
            const [name, setName] = useState('');
            
            const handleAdd = () => {
                if (!name.trim()) return alert('âŒ Digite o nome da turma!');
                onAdd(name);
                onClose();
            };
            
            return (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                    <div className="bg-white rounded-lg p-6 w-full max-w-md">
                        <h2 className="text-2xl font-bold mb-4">ğŸ« Nova Turma</h2>
                        <input value={name} onChange={(e) => setName(e.target.value)}
                            placeholder="Nome da turma" className="w-full px-4 py-2 border-2 rounded-lg mb-4" />
                        <div className="flex gap-3">
                            <button onClick={handleAdd} className="flex-1 bg-indigo-600 text-white py-2 rounded-lg font-bold hover:bg-indigo-700">
                                âœ… Criar
                            </button>
                            <button onClick={onClose} className="px-6 bg-gray-200 py-2 rounded-lg font-bold hover:bg-gray-300">
                                âŒ
                            </button>
                        </div>
                    </div>
                </div>
            );
        }
        
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
